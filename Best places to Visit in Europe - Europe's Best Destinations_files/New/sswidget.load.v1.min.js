!function(t){"use strict";function e(t){function e(){for(var n,i=0;i<a.length;i++)a[i].href&&a[i].href.indexOf(t)>-1&&(n=!0);n?o():setTimeout(e,25)}var i,r=window.document.createElement("link"),s=window.document.getElementsByTagName("script")[0],a=window.document.styleSheets,o=function(){h=!0,u&&n(),window.clearTimeout(i)};return r.rel="stylesheet",r.href=t,s.parentNode.insertBefore(r,s),r.onload=r.onreadystatechange=o,i=window.setTimeout(e,2e3),r}function n(){var t=document.getElementById("ss-wl-search-widget");t?t.style.visibility="visible":2400>f?(f++,setTimeout(n,25)):S.Settings.container.innerHTML="Error loading flights search.",window._define_&&(window.define=window._define_)}function i(){var t="?"+(S.Settings.product?"product="+S.Settings.product+"&":"")+"locale="+S.Settings.language;S.Settings.flights_path&&(t+="&flights_path="+S.Settings.flights_path),S.Settings.hotels_path&&(t+="&hotels_path="+S.Settings.hotels_path),S.Settings.carhire_path&&(t+="&carhire_path="+S.Settings.carhire_path),S.Settings.build&&(t+="&build="+S.Settings.build);var i="";if(S.Settings.theme)if("custom"===S.Settings.theme){var r=[];for(var s in S.Settings)S.Settings.hasOwnProperty(s)&&s.toString().indexOf("customTheme.")>=0&&r.push(s.replace("customTheme.","")+"="+S.Settings[s]);i=S.Settings.domain+g+t+"&"+r.join("&")}else i=S.Settings.domain+g+t+"&theme="+S.Settings.theme;else i=S.Settings.domain+g+t;i+="&v="+l,m=e(i);var a=document.createElement("script");a.type="text/javascript",a.async=!0;var o=S.Settings.domain+d+t;o+="&v="+l,a.src=o,S.Settings.debug&&(a.src+="&debug=true"),a.onload=a.onreadystatechange=function(){u=!0,h&&n()},p.parentNode.insertBefore(a,p),v=a}function r(t){var e=t.split(".js?");return 2===e.length?s(e[1]):{}}function s(t){for(var e={},n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");r.length>1?e[r[0]]=r[1]:e[r[0]]=null}return e}function a(t){return _.map(_.keys(t),function(e){return e+"="+t[e]}).join("&")}function o(t,e,n){var i=t.split(n);if(2===i.length){var r=s(i[1]);return r.product=e,i[0]+n+a(r)}return t}function c(t){var e=t.toLowerCase(),n=e.split(".js?"),i=n[0].split("/scripts/widget/sswidget.load.v1");return i[0]}var d="/scripts/widget.js",g="/content/css/widget.css",l=1456175839353,u=!1,h=!1,f=0;t.SSWLWidget||(t.SSWLWidget={});var S=t.SSWLWidget;S.Settings||(S.Settings={});var p,m,v,w=document.getElementsByTagName("script"),y=w.length,E=/.*sswidget\.load\.([^/]+\.)?js/;S.loadWidget=function(t){u=h=!1,S.Settings.container.innerHTML="";var i=o(m.href,t,".css?"),r=o(v.src,t,".js?");m.parentNode.removeChild(m),v.parentNode.removeChild(v),m=e(i);var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=r,s.onload=s.onreadystatechange=function(){u=!0,h&&n()},p.parentNode.insertBefore(s,p),v=s};for(var T=0;y>T;T++){var b=w[T];if(b.src.match(E)){S.Settings=r(b.src),S.Settings.domain=c(b.src),p=b;break}}if(p){if(!S.Settings.container){var L=document.createElement("div");p.parentNode.insertBefore(L,p),S.Settings.container=L}"string"==typeof S.Settings.container&&(S.Settings.container=document.querySelector("#"+S.Settings.container)),S.Settings.container.innerHTML='<div id="skyscanner-white-label"></div>',S.Settings.container=document.getElementById("skyscanner-white-label"),S.Settings.language=function(t){if(!t)return"en-GB";var e=t.split("-");if(2!==e.length)return t;var n=e[0],i=e[1];return 2!==n.length||2!==i.length?t:n.toLowerCase()+"-"+i.toUpperCase()}(S.Settings.language),"undefined"==typeof S.Settings.deferred||"false"===S.Settings.deferred?t.attachEvent?t.attachEvent("onload",i):t.addEventListener("load",i,!1):console.log('Widget initialized with deferred option. To start it call "SSWLWidget.start()".'),S.start=function(){i()}}}(this);